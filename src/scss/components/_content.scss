////
/// Content
/// @group components
////

.title {
	display: flex;
	flex-wrap: wrap;
	justify-content: space-between;
	align-items: center;
	@include v(gap, gutter);
	position: relative;

	.perch {
		@include media("below:large") {
			position: relative;
		}

		&::before {
			content: "";
			background-image: url("/images/raven.svg");
			background-repeat: no-repeat;
			@include v(opacity, gamma);
			@include v(width, logo-large);
			height: calc(#{v(measure, logo-large)} / 1.205);
			position: absolute;
			inset-inline-start: 100%;
			inset-block-end: 0;
			transform: translateX(-35%) translateY(-10%) scaleX(-1);
			@include v(z-index, below);

			@include media("below:large") {
				transform: translateX(-10%) translateY(-10%) scaleX(-1);
			}
		}
	}
}
.title--positive span,
.title--negative span {
	padding: v(measure, tiny) v(measure, small);
	text-shadow: none;
}
.title--positive > span {
	@include v(background-color, liquid);
	color: h(milou);
}
.title--negative > span {
	background-color: h(maple);
	color: h(milou);
}

.description {
	@include v(max-inline-size, line-length-clamp);
	@include v(font-weight, bold);

	.post & {
		@include v(font-size, gamma);
	}
}

// Visual Data
spark-line {
	display: inline-grid;
	grid-template-columns: 1fr 1fr;
	grid-template-rows: 1fr auto;
	@include font-family;
	@include v(font-size, small);
	font-style: normal;
	@include v(font-weight, bold);
	speak: none;

	canvas {
		inline-size: auto;
		grid-column: 1 / 3;
		grid-row: 1 / 2;
	}

	span {
		grid-column: 1 / 2;
		text-align: start;
	}
	canvas + span {
		grid-column: 2 / 3;
		text-align: end;
	}
}

// Musical Data
.pentatonic {
	cursor: pointer;
}

// Rating
.rating {
	display: inline-block;
	position: relative;
	@include v(font-size, gamma);
	line-height: 1;

	&::before,
	&::after {
		content: "★★★★★";
		speak: none;
	}

	&::before {
		color: h(alto);
	}

	&::after {
		background-color: inherit;
		color: h(kaiser);
		inline-size: 0;
		overflow: hidden;
		position: absolute;
		inset-block-start: 0;
		inset-inline-start: 0;
	}

	&:not([value]) {
		display: none;
	}

	@for $i from 1 through 19 {
		&[value="#{math.div($i, 4)}"]::after {
			inline-size: range-map($i, 0, 20, 0%, 100%);
		}
	}
	&[value="5"]::after {
		inline-size: 100%;
	}
}

%collection-content {
	@include media("print") {
		page-break-inside: avoid;
	}
}
