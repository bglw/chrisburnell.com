<script src="/js/main.min.js"></script>

{% if page.caniuse %}
    <!-- Can I Use Embeds -->
    <script src="https://cdn.jsdelivr.net/caniuse-embed/1.0.1/caniuse-embed.min.js" async defer></script>
{% endif %}

{% if page.codepen or page.codepen_slug %}
    <!-- CodePen Embeds -->
    <script src="https://codepen.io/assets/embed/ei.js" async defer></script>
{% endif %}

{% if page.speakerdeck or page.speakerdeck_slug %}
    <!-- Speaker Deck Embeds -->
    <script src="https://speakerdeck.com/assets/embed.js" async defer></script>
{% endif %}

{% if page.twitter or in_reply_to_link contains 'twitter.com' %}
    <!-- Twitter Cards -->
    <script src="https://platform.twitter.com/widgets.js" async defer></script>
{% endif %}

{%- assign in_reply_to_link_mastodon_instance = site.data.mastodon_instances | where_exp: 'instance', 'in_reply_to_link contains instance' | first | default: null -%}
{% if page.mastodon or in_reply_to_link_mastodon_instance %}
    <!-- Mastodon Cards -->
    <script src="https://{{ in_reply_to_link_mastodon_instance }}/embed.js" async defer></script>
{% endif %}
